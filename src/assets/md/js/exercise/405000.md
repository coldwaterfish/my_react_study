### 小数运算

#### 问题

```js
// 解释下下面的代码为什么输出那种结果，怎么解决
console.log(0.2+0.1);//输出0.30000004
console.log(0.1+0.2===0.3);//输出false
```
#### 原因
```js
二进制浮点数表示法并不能精确的表示类似 0.1 这样 的简单的数字，会有舍入误差。
所以对于 0.1 + 0.2 这样的运算，操作数会先被转成二进制，然后再计算：
双精度浮点数的小数部分最多支持 52 位，所以两者相加之后得到这么一串 0.0100110011001100110011001100110011001100... 
因浮点数小数位的限制而截断的二进制数字，这时候，再把它转换为十进制，就成了 0.30000000000000004。
```

#### 解决

```js
// 原生办法解决
console.log(parseFloat((0.1 + 0.2).toFixed(10)) === 0.3); // true
console.log(parseFloat((0.1 + 0.2).toFixed(10))); // 0.3
```

```js
// 常用方法：将浮点数转化成整数计算
0.1*1000+0.2*1000==0.3*1000  // true
```

```js
var a=0.1
     b=0.2
     sum=a+b
    console.log(a+b)
    console.log(sum.toFixed(2)== 0.3)//true
```

